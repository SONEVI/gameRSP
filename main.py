import telebot
import random

# –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞
bot = telebot.TeleBot('5903454038:AAEcqkMicwlWd7-u84fNb3LlyTgTMbqSSME')

user = {'total_games': 0,
        'wins': 0}

i = 'üóø', '‚úÇ', 'üìú', 'ü¶é', 'üññ'


def get_random_word():
    return random.choice(i)


@bot.message_handler(commands=["start"])
def start(m, res=False):
    markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.row("–î–∞–≤–∞–π!", "–ù–µ —Ö–æ—á—É!")
    bot.send_message(m.chat.id, '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –≤ –∏–≥—Ä–µ "–ö–∞–º–µ–Ω—å-–Ω–æ–∂–Ω–∏—Ü—ã-–±—É–º–∞–≥–∞". –ù–µ —Ö–æ—á–µ—à—å —Å—ã–≥—Ä–∞—Ç—å —Å–æ –º–Ω–æ–π?'
                                ' –í—ã–±–µ—Ä–∏:\n–î–ê–í–ê–ô, –µ—Å–ª–∏ –≥–æ—Ç–æ–≤ —Å—ã–≥—Ä–∞—Ç—å.\n–ù–ï –•–û–ß–£, –µ—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å –∏–≥—Ä–∞—Ç—å.',
                     reply_markup=markup)


@bot.message_handler(commands=["help"])
def help(m, res=False):
    bot.send_message(m.chat.id, '–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã —Ç–∞–∫–æ–≤—ã:\n–≠—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –∏–≥—Ä–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –∏–≥—Ä–∞—é—Ç –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º '
                                '—Ä–∞–∑–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤. –≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–±, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å, —á—å—è –æ—á–µ—Ä–µ–¥—å –Ω–∞—Å—Ç—É–ø–∞–µ—Ç, '
                                '—á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ, –∏ —ç—Ç–æ —Ä–∞–∑—ã–≥—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –æ—Å–Ω–æ–≤–µ. –ù–æ–∂–Ω–∏—Ü—ã —Ä–µ–∂—É—Ç '
                                '–±—É–º–∞–≥—É. –ë—É–º–∞–≥–∞ –∑–∞–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫–∞–º–µ–Ω—å. –ö–∞–º–µ–Ω—å –¥–∞–≤–∏—Ç —è—â–µ—Ä–∏—Ü—É, –∞ —è—â–µ—Ä–∏—Ü–∞ —Ç—Ä–∞–≤–∏—Ç –°–ø–æ–∫–∞, –≤ '
                                '—Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –°–ø–æ–∫ –ª–æ–º–∞–µ—Ç –Ω–æ–∂–Ω–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –æ—Ç—Ä–µ–∑–∞—é—Ç –≥–æ–ª–æ–≤—É —è—â–µ—Ä–∏—Ü–µ, '
                                '–∫–æ—Ç–æ—Ä–∞—è –µ—Å—Ç –±—É–º–∞–≥—É, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —É–ª–∏–∫–∏ –ø—Ä–æ—Ç–∏–≤ –°–ø–æ–∫–∞. –°–ø–æ–∫ –∏—Å–ø–∞—Ä—è–µ—Ç –∫–∞–º–µ–Ω—å, –∞ –∫–∞–º–µ–Ω—å, '
                                '—Ä–∞–∑—É–º–µ–µ—Ç—Å—è, –∑–∞—Ç—É–ø–ª—è–µ—Ç –Ω–æ–∂–Ω–∏—Ü—ã. .\n–Ø —Ä–∞–Ω–¥–æ–º–Ω–æ –≤—ã–±–∏—Ä–∞—é –æ–¥–∏–Ω '
                                '–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –∞ –≤—ã, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –¥–æ–ª–∂–Ω—ã –≤—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ.\n–ï—Å–ª–∏ —è '
                                '–æ—Ç–ø—Ä–∞–≤–ª—è—é –≤–∞–º "–ö–∞–º–µ–Ω—å", –∞ –≤—ã –º–Ω–µ "–ù–æ–∂–Ω–∏—Ü—ã", –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —è –≤—ã–∏–≥—Ä—ã–≤–∞—é. –ê –µ—Å–ª–∏ –≤—ã '
                                '–º–Ω–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ "–ë—É–º–∞–≥–∞", –∞ —è –≤–∞–º "–ö–∞–º–µ–Ω—å", –ø–æ–±–µ–¥–∏–ª–∏ –≤—ã.')
    image = open(f'knb_photo.jpg')
    image.close()
    bot.send_photo(m.chat.id, image)


@bot.message_handler(commands=["stat"])
def stat(m, res=False):
    bot.send_message(m.chat.id, '–í—Å–µ–≥–æ –∏–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ: ' + str(user["total_games"]) +
                     '\n–ò–≥—Ä –≤—ã–∏–≥—Ä–∞–Ω–æ: ' + str(user["wins"]))


@bot.message_handler(content_types=["text"])
def handle_text(m):
    if m.text in ['–î–∞–≤–∞–π!']:
        markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True)
        markup.row('üóø', '‚úÇ', 'üìú')
        bot.send_message(m.chat.id, '–û—Ç–ª–∏—á–Ω–æ! –í—ã–±–µ—Ä–∏ –Ω–∞ —Å–≤–æ–µ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –≤—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞.', reply_markup=markup)
    elif m.text in ['üóø', '‚úÇ', 'üìú']:
        user['total_games'] += 1
        bot_choice = random.choice(i)
        bot.send_message(m.chat.id, bot_choice)
        if bot_choice == 'üóø':
            if m.text == '‚úÇ' or spok:
                bot.send_message(m.chat.id, '–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ü–æ–±–µ–¥–∞ –∑–∞ –º–Ω–æ–π.')
            elif m.text == 'üóø':
                bot.send_message(m.chat.id, '–£ –Ω–∞—Å –Ω–∏—á—å—è. –í–∞–º –ø–æ–≤–µ–∑–ª–æ.')
            elif m.text == 'üìú' or kamen:
                bot.send_message(m.chat.id, '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏. –ú–æ–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è.')
                user['wins'] += 1
        elif bot_choice == 'üìú':
            if m.text == '‚úÇ':
                bot.send_message(m.chat.id, '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏. –ú–æ–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è.')
                user['wins'] += 1
            elif m.text == 'üóø':
                bot.send_message(m.chat.id, '–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ü–æ–±–µ–¥–∞ –∑–∞ –º–Ω–æ–π.')
            elif m.text == 'üìú':
                bot.send_message(m.chat.id, '–£ –Ω–∞—Å –Ω–∏—á—å—è. –í–∞–º –ø–æ–≤–µ–∑–ª–æ.')
        elif bot_choice == '‚úÇ':
            if m.text == 'üóø':
                bot.send_message(m.chat.id, '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏. –ú–æ–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è.')
                user['wins'] += 1
            elif m.text == 'üìú':
                bot.send_message(m.chat.id, '–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ü–æ–±–µ–¥–∞ –∑–∞ –º–Ω–æ–π.')
            elif m.text == '‚úÇ':
                bot.send_message(m.chat.id, '–£ –Ω–∞—Å –Ω–∏—á—å—è. –í–∞–º –ø–æ–≤–µ–∑–ª–æ.')
        markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True, one_time_keyboard=True)
        markup.row("–î–∞–≤–∞–π!", "–ù–µ —Ö–æ—á—É.")
        bot.send_message(m.chat.id, '–û—Ç–ª–∏—á–Ω–∞—è –∏–≥—Ä–∞. –ù–µ —Ö–æ—á–µ—à—å —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑?', reply_markup=markup)
    elif m.text in ['–ù–µ —Ö–æ—á—É.']:
        bot.send_message(m.chat.id, '–•–æ—Ä–æ—à–æ. –ï—Å–ª–∏, –≤–¥—Ä—É–≥, –∑–∞—Ö–æ—á–µ—à—å —Å—ã–≥—Ä–∞—Ç—å - –æ—Ç–∫—Ä–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏ –Ω–∞–∂–º–∏ "–î–∞–≤–∞–π!"')
    else:
        bot.send_message(m.chat.id, '–Ø —Ç–µ–±—è –Ω–µ –ø–æ–Ω–∏–º–∞—é. –Ø —Ä–µ–∞–≥–∏—Ä—É—é —Ç–æ–ª—å–∫–æ –Ω–∞:'
                                    '\n- –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞.\n- –∫–æ–º–∞–Ω–¥—ã /help –∏ /stat.')


bot.polling(none_stop=True, interval=0)
